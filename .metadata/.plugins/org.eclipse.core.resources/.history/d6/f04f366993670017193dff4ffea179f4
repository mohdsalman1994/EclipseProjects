package com.aceprogrammer.basics.HashFunction;

import java.io.FileNotFoundException;
import java.io.IOException;
import java.util.List;
import java.util.Map;
import java.util.TreeMap;

public class MyHashMap {

	    // our main game
		Map<Integer, List<Integer>> myHashMap = new TreeMap<Integer, List<Integer>>();
		HashMapSerializer serializer = new HashMapSerializer();
	
	public void insert(int no) throws FileNotFoundException, ClassNotFoundException, IOException
	{
		
		// first retrieve the map from serialized file
		myHashMap = serializer.deSerialize();
		
		// calculate key and check if it already exists
					int key = no % 11;
					
					// if yes then directly push the no to it's corresponding list
					if(myHashMap.containsKey(key))
					{
						List<Integer> list = myHashMap.get(key);
						
						// add more logic here to check if the value already exists in there
						// if yes then pop it else push it
						
						if(list.contains(no))
						{
							System.out.println("Given no is already present in the Map");
							System.out.println("Popping it from the list");
							list.remove(no);
							myHashMap.put(key, list);
						}
						
						else
						{				
							list.add(no);
							myHashMap.put(key, list);
						}
						
					}
						
		
		}
	
	public Map<Integer, List<Integer>> getMap() throws FileNotFoundException, ClassNotFoundException, IOException
	{
		return serializer.deSerialize();
	
	
	}	
}